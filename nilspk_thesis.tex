\documentclass[UKenglish, a4paper]{ifimaster}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc,url}
\urlstyle{sf}
\usepackage{babel,textcomp,csquotes,ifimasterforside,varioref,graphicx}
\usepackage[backend=biber,style=numeric-comp]{biblatex}
\usepackage{pifont}
\usepackage{booktabs}
\usepackage{verbatim}
\usepackage{listings}

\lstset{%
    captionpos=b,
    tabsize=2,
    breaklines=true
}

\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}
\newcommand{\ampers}{\&}

\title{Implementation and Evaluation of Pub/Sub overlays for P2P Social Networks}
\subtitle{}
\author{Nils Peder Korsveien}

\addbibresource{bibliography.bib}

\begin{document}
\ififorside{}
\frontmatter{}
\maketitle{}

\chapter*{Abstract}
\tableofcontents{}
\listoffigures{}
\listoftables{}
\chapter*{Aknowledgements}
\mainmatter{}

\chapter{Introduction}
\input{chapters/introduction}
    % \section{Motivation}
    % \section{Problem Statement}
    % \section{Thesis Outline}

\chapter{Background}
\label{ch:background}
\input{chapters/background}
    % \section{The Peer-to-Peer Network Architecture}
    % \section{The Publish-Subscribe Communication Paradigm}
    % \section{Online Social Networks}
    % \section{Social Network Analysis}
    % \section{Summary}

\chapter{Protocol Descriptions}
\label{ch:protocol-descriptions}
\section{Scribe}
Structured overlay, Dissemination Trees
\section{PolderCast}
Hybrid overlay, RINGS, CYCLON, VICINITY, Random links (small-world)

\chapter{Design Challenges in Topic-Based Pub/Sub}
\label{ch:desired-system-properties-and-trade-offs}
\input{chapters/existing-approaches}
    % \section{Desired System Properties}
    % \section{Handling Trade-offs}
    % \section{Overlay Construction}
    % \section{Event Dissemination}
    % \section{Summary}

\chapter{Metrics}
\label{ch:metrics}
\input{chapters/metrics}
% FIXME: should probably be a part of the background chapter

\chapter{Implementation}
\label{ch:implementation}
    \section{Implementation Strategy}
        \subsection{Using Test-Driven Development}

        Software Development Methodology is an active area of research
        which is in part driven by the business needs of the private
        sector\cite{janzen2005test}. One popular practice is so-called Test-Driven
        Development (TDD). The promoters of TDD claims it increases
        productivity and reduces the number of bugs and defects in the
        code significantly~\cite{beck2003test}. Research
        efforts performed at IBM~\cite{maximilien2003assessing} seems to
        lend credibility to these claims. However, the use of TDD is not
        prevalent in academia, and in~\cite{janzen2005test} they
        recommend further research into the field in order to better
        determine its effects.

        Using TDD means writing tests before writing any code. There are
        different types of test. \emph{Unit Tests} targets small,
        independent pieces of code, typically methods within a single
        module or component, while \emph{Integration Tests} aim to test
        code across such modules and components in order to determine
        how well they integrate with each other. In our work, we only
        took advantage of Unit Tests where suitable using the
        JUnit~\cite{junit} and Mockito~\cite{mockito} libraries.
        We could also have benefited from a suite of integration tests,
        as our implementation is heavily dependent on interoperating
        components, as well as file and network IO\@. However, writing
        these sort of tests would simply be too time consuming compared
        to writing smaller unit tests.

        The TDD approach to software development is best described through the
        Red-Green-Refactor mantra, which is a central part of the
        TDD-philosophy. It can be described through the following steps:

        \begin{description}
            \item[Step 1: ] Write a test that fails. (Red)
            \item[Step 2:] Make the test pass. (Green)
            \item[Step 3:] Refactor the code while making sure the test
                still passes. (Refactor)
        \end{description}

        In our experience this routine has been helpful when working
        with our implementation code, as it enables us as developer to
        refactor with confidence achieving more maintainable code and a
        more thoughtful software design. Since we share our
        implementation code with the research community by hosting it in
        a open repository, any tool or method that helps us improve the
        design and maintainability of our project is of great value to
        us. Using TDD forced us to think more deeply about what
        functionality to implement and how to structure and split the
        problem domain into smaller function points. We believe that in
        the end, following TDD where its suitable is beneficial to both
        programmer productivity as well as programmer happiness. Also,
        we are confident that this practice decreased the amount of
        technical debt in our project, a problem we find to be commonplace in academia.

        \subsection{Extending PeerNet for Gephi}
        \subsection{Aggregating data}
            Using the coordinator as a data aggregate. Aggregated data
            stored in gexf format.
    \section{Implementing Protocols in PeerNet}
        \subsection{Updating Existing Protocols}
        \subsection{Protocols}
        \subsection{Observers}
    \section{Extending PeerNet}
    \section{Implementation Challenges}
    \subsection{Implementing a workaround for memory leaks in the Gephi Toolkit}
    CollectorWorker -> GSON -> New JVM
    \subsection{Handling protocols with inconsistent views}
    Protocols remove some edges between nextCycle () and processEvent ()
    \subsection{Issues with dynamic graphs in Gephi}
        Problems handling dynamic attributes, playback issues caused by
        rounding errors as gephi uses double to define intervals.
    \subsection{GEXF file sizes}
        The GEXF format may not be scalable. However, gephi accepts
        archive files. Zipping gexf files reduced file sizes up to 93%.
    \subsection{Messages too large in PolderCast}
        It is often the case that taking something that works well
        locally and transparently distributing it leads to difficulties.

\chapter{Evaluation}
\label{ch:evaluation}
    \section{Experimental Setup}
    \section{Evaluation Workloads}
    \section{Experiments}
    \section{Evaluation Summary}

\chapter{Conclusion and Future Work}
\label{ch:conclusion-and-future-work}
    \section{Conclusion}
    \section{Future Work}

% End of part IV

\backmatter{}
\printbibliography{}
\end{document}
